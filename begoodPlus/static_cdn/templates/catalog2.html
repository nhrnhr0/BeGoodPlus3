{% extends "newBase.html" %}

{% load i18n %}
{% load static %}
{% load bootstrap5 %}

{% block head_title %}{% trans "Catalog" %}{% endblock %}
{% block extra_head %}
<!-- css includes in head -->
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.css" />
<!-- Add the slick-theme.css if you want default styling -->
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick-theme.css" />
<script src="https://kit.fontawesome.com/022c0fea0b.js" crossorigin="anonymous" defer></script>
<!-- <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"> -->

<link rel="stylesheet" href="{%static 'assets/catalog/css/style.css' %}">
{% endblock extra_head%}

{% block content %}

<div class="section-1">
    <!--
    <div class="main-slider">
            <img src="{%static 'assets/catalog/imgs/slide1.jpg'%}"/>
            <img src="{%static 'assets/catalog/imgs/slide2.jpg'%}"/>
            <img src="{%static 'assets/catalog/imgs/slide3.jpg'%}"/>
    </div>
    -->



    <div class="main-slider">
        <!-- src="{%static 'assets/catalog/imgs/slide1.jpg'%}" />-->
        <div class="main-slide slide-1">
            <img class="main-slide-bg" srcset="{%static 'assets/catalog/imgs/slide_bg_min.jpg'%}," />
            <!-- {%static 'assets/catalog/imgs/slide1.jpg'%} 520w -->
            <div class="text">
                <div class="text-wraper text-wraper-1">
                    <div class="text-1">
                        <!--cls-animate-in-right-->
                        בעל עסק? גם לך נמאס לבזבז זמן וכסף בהזמנות רכש לעובדים?
                    </div>
                </div>
                <div class="text-wraper text-wraper-2">
                    <div class="text-2 ">
                        <!--cls-animate-in-right-->
                        תן למקצוענים לעשות את העבודה בשבילך
                    </div>
                </div>
            </div>
            <div class="images">
                <img class="main-slide-img img-1" src="{%static 'assets/catalog/imgs/slide1/hero_img1.png' %}" />
                <img class="main-slide-img img-2" src="{%static 'assets/catalog/imgs/slide1/hero_img2.png' %}" />
                <img class="main-slide-img img-3" src="{%static 'assets/catalog/imgs/slide1/hero_img3.png' %}" />
                <img class="main-slide-img img-4" src="{%static 'assets/catalog/imgs/slide1/hero_img4.png' %}" />
                <img class="main-slide-img img-5" src="{%static 'assets/catalog/imgs/slide1/hero_img5.png' %}" />
            </div>
        </div>

        <div class="main-slide slide-2">
            <img class="main-slide-bg" srcset="{%static 'assets/catalog/imgs/slide_bg_min.jpg'%}," />
            <!-- {%static 'assets/catalog/imgs/slide1.jpg'%} 520w -->
            <div class="text">
                <div class="text-wraper text-wraper-1">
                    <div class="text-1">
                        <!--cls-animate-in-right-->
                        לא יודעים מה להזמין ומפחדים לטעות בהזמנה?
                    </div>
                </div>
                <div class="text-wraper text-wraper-2">
                    <div class="text-2 ">
                        <!--cls-animate-in-right-->
                        הצוות שלנו אשמח לעמוד לשירותכם
                    </div>
                </div>
            </div>
            <div class="images">
                <img class="main-slide-img img-1" src="{%static 'assets/catalog/imgs/slide2/hero_img1.png' %}" />
                <img class="main-slide-img img-2" src="{%static 'assets/catalog/imgs/slide2/hero_img2.png' %}" />
                <img class="main-slide-img img-3" src="{%static 'assets/catalog/imgs/slide2/hero_img3.png' %}" />
                <img class="main-slide-img img-4" src="{%static 'assets/catalog/imgs/slide2/hero_img4.png' %}" />
                <img class="main-slide-img img-5" src="{%static 'assets/catalog/imgs/slide2/hero_img5.png' %}" />
                <img class="main-slide-img img-6" src="{%static 'assets/catalog/imgs/slide2/hero_img6.png' %}" />
                <img class="main-slide-img img-7" src="{%static 'assets/catalog/imgs/slide2/hero_img7.png' %}" />
                <img class="main-slide-img img-8" src="{%static 'assets/catalog/imgs/slide2/hero_img8.png' %}" />
            </div>
        </div>


        <div class="main-slide slide-3">
            <img class="main-slide-bg" srcset="{%static 'assets/catalog/imgs/slide_bg_min.jpg'%}," />
            <!-- {%static 'assets/catalog/imgs/slide1.jpg'%} 520w -->
            <div class="text">
                <div class="text-wraper text-wraper-1">
                    <div class="text-1">
                        <!--cls-animate-in-right-->
                        מנהל רכש? שמור על העובדים שלך
                    </div>
                </div>
                <div class="text-wraper text-wraper-2">
                    <div class="text-2 ">
                        <!--cls-animate-in-right-->
                        עם סידרת מוצרי הבטיחות לעבודה במחירים מנצחים
                    </div>
                </div>
            </div>
            <div class="images">
                <img class="main-slide-img img-14" src="{%static 'assets/catalog/imgs/slide3/hero_img14.png' %}" />
                <img class="main-slide-img img-15" src="{%static 'assets/catalog/imgs/slide3/hero_img15.png' %}" />
                <img class="main-slide-img img-16" src="{%static 'assets/catalog/imgs/slide3/hero_img16.png' %}" />
                <img class="main-slide-img img-17" src="{%static 'assets/catalog/imgs/slide3/hero_img17.png' %}" />
                <img class="main-slide-img img-18" src="{%static 'assets/catalog/imgs/slide3/hero_img18.png' %}" />
                <img class="main-slide-img img-19" src="{%static 'assets/catalog/imgs/slide3/hero_img19.png' %}" />
                <img class="main-slide-img img-20" src="{%static 'assets/catalog/imgs/slide3/hero_img20.png' %}" />
                <!--
                <img class="main-slide-img img-21" src="{%static 'assets/catalog/imgs/slide3/hero_img21.png' %}"/>
                <img class="main-slide-img img-22" src="{%static 'assets/catalog/imgs/slide3/hero_img22.png' %}"/>
                -->
                <img class="main-slide-img img-23" src="{%static 'assets/catalog/imgs/slide3/hero_img23.png' %}" />

            </div>
        </div>
        <!--
        <div class="main-slide">
            <img class="main-slide-img" src="{%static 'assets/catalog/imgs/slide2.jpg'%}" />
            <div class="text">
                <div class="text-1">
                    בעל עסק? גם לך נמאס לבזבז זמן וכסף בהזמנות רכש לעובדים?
                </div>
                <div class="text-2">
                    תן למקצוענים לעשות את העבודה בשבילך
                </div>
            </div>
        </div>
        <div class="main-slide">
            <img class="main-slide-img" src="{%static 'assets/catalog/imgs/slide3.jpg'%}" />
            <div class="text">
                <div class="text-1">
                    בעל עסק? גם לך נמאס לבזבז זמן וכסף בהזמנות רכש לעובדים?
                </div>
                <div class="text-2">
                    תן למקצוענים לעשות את העבודה בשבילך
                </div>
            </div>
        </div>
        -->
        <!--
        <div><img class="main-slide-img" src="{%static 'assets/catalog/imgs/slide2.jpg'%}" /></div>
        <div><img class="main-slide-img" src="{%static 'assets/catalog/imgs/slide3.jpg'%}" /></div>
        -->
    </div>
</div>

<div class="catalog">

    {%for album in albums%}
    {%if album.is_public%}
    <div class="title-wraper">
        <button data-album-id="{{album.id}}" onclick="openCategoryModal({{album.id}})"
            class="title btn">{{album.title}}</button>
    </div>
    <div class="container">
        <div name="slick-slider-{{album.id}}" id="slick-slider-{{forloop.parentloop.counter0}}" class="slick-slider">`
            {%for img in album.images.all%}
            <div class="wraper-my-slick-slide">
                <div data-album-id="{{album.id}}" data-my-slide-index="{{forloop.counter0}}" data-prod-id="{{img.id}}"
                    class="my-slick-slide shadow-lg">
                    <img height="100px" width="100px" data-lazy="media/{{img.image_thumbnail}}"
                        alt="{{img.description}}" />
                    <div class="img-title">{{img.title}}</div>
                </div>
                <div class="like-btn" name="like-btn">
                    <div class="like-wrapper" data-prod-id="{{img.id}}">
                        <a name="like-btn"><span name="like-btn">הוסף להצעת מחיר</span></a>
                    </div>
                </div>
            </div>
            {%endfor%}
        </div>
    </div>

    {%endif%}
    {%endfor%}
</div>

<div class="modal" id="catalogProductsModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h5 class="modal-title  w-100">Modal title</h5>
                <button type="button" class="close close-modal" data-dismiss="catalogModal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Modal body text goes here.</p>
            </div>
            <div class="modal-footer">
                <button type="button" id="modal-send-products-btn" class="btn btn-primary">שלח</button>
                <button type="button" class="btn btn-secondary close-modal" data-dismiss="catalogModal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="catalogModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h5 class="modal-title  w-100">Modal title</h5>
                <button type="button" class="close close-modal" data-dismiss="catalogModal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Modal body text goes here.</p>
            </div>
            <div class="modal-footer">

                <!--<button type="button" class="btn btn-secondary close-modal" data-dismiss="catalogModal">Close</button>-->


                <button id="modal-prev-btn" class="btn btn-primary"> הקודם </button>


                <!--<button type="button" id="modal-add-btn" class="btn btn-primary">הוסף להצעת מחיר</button>-->

                <div id="modal-add-btn" class="like-wrapper">
                    <a name="like-btn"><span name="like-btn">הוסף להצעת מחיר</span></a>
                </div>


                <button id="modal-next-btn" class="btn btn-primary"> הבא </button>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="categoryModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h5 class="modal-title  w-100">Category</h5>
                <button type="button" class="close close-modal" data-dismiss="categoryModal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Modal body text goes here.</p>
            </div>
            <div class="modal-footer">

                <!--<button type="button" class="btn btn-secondary close-modal" data-dismiss="catalogModal">Close</button>-->

                <!--
                <button id="modal-prev-btn" class="btn btn-secondary"> הקודם </button>
                <button type="button" id="modal-add-btn" class="btn btn-primary">הוסף להצעת מחיר</button>
                <button id="modal-next-btn" class="btn btn-secondary" > הבא </button>
                -->
            </div>
        </div>
    </div>
</div>

<div class="modal" id="ImageProductsModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h5 class="modal-title  w-100">modal title</h5>
                <button type="button" class="close close-modal" data-dismiss="ImageProductsModal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                modal body
            </div>
            <!--
            <div class="modal-footer">
                modal footer
            </div>
            -->
        </div>
    </div>
</div>


<div class="modal" id="likedProductsModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h5 class="modal-title  w-100">מוצרים שאהבתי</h5>
                <button type="button" class="close close-modal" data-dismiss="likedProductsModal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="likedProductsForm">
                    {%csrf_token%}
                    <div class=" row">
                        <div class="col-6">
                            <input type="hidden" name="taskName" id="taskName"
                                value="products-ec6bb117-c8fa-4a38-989a-ab0e0805e44e">
                            <div class="form-group">
                                <label class="control-label">Name</label>
                                <div>
                                    <input type="text" class="form-control input-lg" id="id_name" name="name" value=""
                                        required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label">E-Mail Address</label>
                                <div>
                                    <input type="email" class="form-control input-lg" id="id_email" name="email"
                                        value="" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label">Phone</label>
                                <div>
                                    <input type="tel" class="form-control input-lg" id="id_phone" name="phone" value=""
                                        required>
                                </div>
                            </div>
                        </div>
                        <div class="col-6" id="cartProductsList">
                            <h1>הוסף מוצרים לעגלה</h1>
                        </div>
                    </div>

                    <!--
                    <input type="text" name="name" id="id_name">
                    <input type="email" name="email" id="id_email">
                    <input type="tel" name="tel" id="id_tel">
                    <input type="text" name="products[]" id="">
                    -->


                </form>

            </div>
            <div class="modal-footer">
                <button type="button" onclick="submitCatalogProducts()" class="btn btn-primary">שלח</button>
                <!--id="modal-add-btn"-->
                <button type="button" class="btn btn-secondary close-modal"
                    data-dismiss="likedProductsModal">סגור</button>
            </div>
        </div>
    </div>
</div>

<div class="contact-form-wraper2">
    <div class="contact-form-wraper">
        <form id="contact-form" action="{%url 'save-contact-form' '/testCatalog'%}" method="post" class="contact-form">
            {% csrf_token %}
            <input type="hidden" name="taskName" id="taskName" value="catalog-ec6bb117-c8fa-4a38-989a-ab0e0805e44e">
            <h2 class="form-header">
                לקבלת הצעת מחיר משתלמת <div class="mark-strong">ללא</div> עלות <div class="mark-strong">וללא</div>
                התחייבות השאירו פרטים ומיד נחזור אליכם
            </h2>
            </h2>
            {% bootstrap_form contactForm %}
            {% buttons %}
            <button onclick="submitCatalogContactForm()" type="button" class="btn btn-success form-submit">
                לשליחת טופס לחץ כאן
            </button>
            {% endbuttons %}
        </form>
    </div>
</div>


<form method="POST" id="deleteProductForm" action="tasks/delete-user-liked-product">
    {%csrf_token%}
</form>
{%endblock%}

{%block extra_body%}
<script type="text/javascript" src="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://zachleat.github.io/BigText/dist/bigtext.js"></script>
<!-- <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script> -->
<script src="{%static 'assets/catalog/js/catalog.js'%}"></script>

<script type="text/javascript">
    $(document).ready(function () {
        var x = window.matchMedia("(min-width: 1312px)");
        if(x.matches == false) {
            $('.main-slide .text-wraper').bigtext();
        }
        
        updateProductsCart();
        $('.main-slider').slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            //autoplay: true,
            autoplay: false,
            speed: 1000,
            autoplaySpeed: 6000,
            pauseOnFocus: true,
            focusOnSelect: false,
            rtl: true,
            swipeToSlide: false,
            //lazyLoad: 'ondemand',
            dots: true,
            draggable: false,
            infinite: true,
            arrows: false,
        });


        //albums = getAllAlbums();
        /*
        var catalogMarkup = ``;
        var catalogPreload = ``;
        var k = 0;
        for (var i = 0; i < albums.length; i++) {
            var albumMarkup = ``;
            album = albums[i];
            if (albums[i].is_public) {
                albumMarkup += `
                    <!--<div class="title">${album.title}</div>-->
                    <div class="title-wraper">
                        <button data-album-id="${album.id}" onclick="openCategoryModal(${album.id})" class="title btn">${album.title}</button>
                    </div>
                    <div class="container">
                        <div name="slick-slider-${album.id}" id="slick-slider-${i}" class="slick-slider">`
                albumPreload = ``;
                for (var j = 0; j < album.images_list.length; j++) {
                    var img = album.images_list[j];
                    albumMarkup += `
                        <div class="wraper-my-slick-slide">
                            <div data-album-id="${album.id}" data-my-slide-index="${j}" data-prod-id="${img.id}" class="my-slick-slide shadow-lg">
                                <img data-lazy="${img.image_thumbnail}" alt="${img.description}" />
                                <div class="img-title">${img.title}</div>
                            </div>
                            <div class="like-btn" name="like-btn">
                                <div class="like-wrapper" data-prod-id="${img.id}">
                                    <a name="like-btn"><span name="like-btn">הוסף להצעת מחיר</span></a>
                                </div>
                            </div>
                            
                        </div>
                        `
                    albumPreload += `<link rel="prefetch" width="923px" height="715px" href="${img.image}" />`;
                }
                albumMarkup += `</div></div>`
            }
            catalogMarkup += albumMarkup;
            catalogPreload += albumPreload;
        }
        $('.catalog').html(catalogMarkup).append(catalogPreload);
        */
        var slisks = $('.slick-slider');

        // TODO: start index from 0 and choose a diffrent selector so the first (main) slider is not selected
        for (var i = 1; i < slisks.length; i++) {


            //var numberOfItems = $(slisks[i]).find('.my-slick-slide').length
            /*var isDots = true;
            if (numberOfItems > 20) {
                isDots = false;
            }*/
            var isDots = false;
            $(slisks[i]).slick({
                slidesToShow: 4,
                slidesToScroll: 1,
                dots: isDots,
                speed: 100,
                focusOnSelect: false,
                rtl: true,
                swipeToSlide: true,
                lazyLoad: 'ondemand',
                draggable: false,
                infinite: true,


                responsive: [{
                    breakpoint: 500,
                    settings: {
                        slidesToShow: 3,
                    }
                }]
            });
        }
        $('.my-slick-slide + .like-btn .like-wrapper').on('click', (e) => {
            console.log('like clicked');
            addClientLikeProduct(e.currentTarget.dataset.prodId);
        });
        $('.my-slick-slide').on('click', (e) => {
            console.log('.my-slick-slide', e, e.currentTarget.dataset.prodId);
            if (e.target.getAttribute('name') == 'like-btn') {
                addClientLikeProduct(e.currentTarget.dataset.prodId);
                //$(e.currentTarget).addClass('checked');
                //$('#product-like-btn').prop("checked", true);
            } else {
                var prodId = parseInt(e.currentTarget.dataset.prodId);
                var albumId = parseInt(e.currentTarget.dataset.albumId);
                //var isAdded = e.currentTarget.dataset.isAdded;

                albums = getAllAlbums();
                var album = albums.find((val, idx, obj) => {
                    return val.id == albumId
                })
                var img = album.images_list.find((val) => {
                    return val.id == prodId
                });

                var colorMarkup = ``
                for (var i = 0; i < img.colors_list.length; i++) {
                    var col = img.colors_list[i];
                    colorMarkup += `<div class="color-box" style="background:${col.color};"></div>`;
                }

                var sizeMarkup = ``;
                for (var i = 0; i < img.sizes_list.length; i++) {
                    var size = img.sizes_list[i];
                    sizeMarkup += `<div class="size-box">${size.size}</div>`;
                }

                //$('#catalogModal .modal-title').text(album.title);
                $('#catalogModal .modal-title').html(`
                <button data-album-id="${album.id}" onclick="openCategoryModal(${album.id})"
                    class="title btn btn-success">${album.title}</button>
                    `);
                $('#catalogModal .modal-body').html(`
                <div class="inner-body">

                    <div class="product-detail">
                        <div class="product-title">${img.title}</div>
                        <hr>
                        <!-- <div class="product-description">${img.description.replace(/(?:\r\n|\r|\n)/g, '<br>') }</div> -->
                        <div class="product-description">${marked(img.description)}</div>
                        <hr>
                        <div class="row">
                            <div class="col-6">
                                <div class="product-color ">${colorMarkup}</div>
                            </div>
                            <div class="col-6">
                                <div class="product-size">${sizeMarkup}</div>
                            </div>
                        </div>
                    </div>
                    <div class="img-wraper" onclick="openImageProductModal(${img.id})"><img id="catalog-image-${img.id}" src="${img.image}"/></div>
                </div>
                <div class="inner-footer">
                </div>
                `);


                var modalNextBtn = $('#modal-next-btn');
                var modalPrevBtn = $('#modal-prev-btn');
                var nextElementStr =
                    `[name=slick-slider-${album.id}] .my-slick-slide[data-my-slide-index=${parseInt(e.currentTarget.dataset.mySlideIndex)+1}]`;
                var prevElementStr =
                    `[name=slick-slider-${album.id}] .my-slick-slide[data-my-slide-index=${parseInt(e.currentTarget.dataset.mySlideIndex)-1}]`;
                var nextElement = $(nextElementStr)
                var prevElement = $(prevElementStr)
                modalNextBtn.attr('onClick',
                    `$('${nextElementStr}').click();`
                );
                modalPrevBtn.attr('onClick',
                    `$('${prevElementStr}').click();`
                );
                // no more next, so hide next button
                if (nextElement.length == 0) {
                    modalNextBtn.data('hide-me', 'yes');
                    modalNextBtn.css('visibility', 'hidden');
                } else {
                    modalNextBtn.data('hide-me', 'no');
                    modalNextBtn.css('visibility', 'visible');
                }
                // no more prev, so hide prev button
                if (prevElement.length == 0) {
                    modalPrevBtn.data('hide-me', 'yes');
                    modalPrevBtn.css('visibility', 'hidden');
                } else {
                    modalPrevBtn.data('hide-me', 'no');
                    modalPrevBtn.css('visibility', 'visible');
                }
                $('#modal-prev-btn').click(function (e) {
                    $(`.my-slick-slide[data-my-slide-index=${parseInt(e.currentTarget.dataset.mySlideIndex)-1}]`)
                        .click();
                });

                $('#modal-add-btn').val(prodId);

                if ($(e.currentTarget).hasClass('checked')) {
                    $('#modal-add-btn').prop('disabled', true);
                    $('#modal-add-btn span').text('נוסף להצעת מחיר');
                    $('#modal-add-btn').addClass('isAdded');
                } else {
                    $('#modal-add-btn').prop('disabled', false);
                    $('#modal-add-btn span').text('הוסף להצעת מחיר');
                    $('#modal-add-btn').removeClass('isAdded');
                }

                $('#catalogModal').modal('show');
                $('#catalogModal .close-modal').click(function () {
                    $('#catalogModal').modal('hide');
                });

            }
            $('#modal-add-btn').click((e) => {
                console.log('modal-add-btn', e);
                addClientLikeProduct(e.currentTarget.value)
                return false;
            });
        });
        task = myStorage.getItem('user_click_task');
        activateUserTask(task);
        handleSearchTasks();
        updateClientLikedUI();
    });

    function handleSearchTasks() {
        var openCategoryTask = myStorage.getItem('search_open_category');
        if (openCategoryTask != null) {
            openCategoryModal(openCategoryTask);
            myStorage.removeItem('search_open_category');

        }

        var openProductTask = myStorage.getItem('search_open_product');
        if (openProductTask != null) {
            $(`.my-slick-slide[data-prod-id=${openProductTask}]`).click();
            //var prod = $(`div[data-prod-id=${openProductTask}]`);
            //prod.click();

            myStorage.removeItem('search_open_product');
        }
    }

    function activateUserTask(task) {
        if (task == "catalog-ec6bb117-c8fa-4a38-989a-ab0e0805e44e") {
            setTimeout(() => {
                //document.getElementById('contact-form').scrollIntoView();
                window.scrollTo(0, document.body.scrollHeight);
                //myStorage.setItem('user_click_task', undefined);
                myStorage.removeItem('user_click_task');
            }, 1000);
        } else if (task == "products-ec6bb117-c8fa-4a38-989a-ab0e0805e44e") {
            loadProductsModal();
            myStorage.removeItem('user_click_task');
        }
    }
</script>
{%endblock%}



<!--
    credits:
    <div>Icons made by <a href="https://www.flaticon.com/authors/pixel-perfect" title="Pixel perfect">Pixel perfect</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div>
<div>Icons made by <a href="https://www.flaticon.com/authors/icongeek26" title="Icongeek26">Icongeek26</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div>
-->